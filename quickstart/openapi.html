<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>OpenAPI | Minimal APIs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="Building APIs in C#">
    <meta name="theme-color" content="#d9C5C1">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/assets/css/0.styles.c9c98798.css" as="style"><link rel="preload" href="/assets/js/app.c8f2c11d.js" as="script"><link rel="preload" href="/assets/js/2.9f025ea5.js" as="script"><link rel="preload" href="/assets/js/17.20918acb.js" as="script"><link rel="prefetch" href="/assets/js/10.777a77a2.js"><link rel="prefetch" href="/assets/js/11.489fa89d.js"><link rel="prefetch" href="/assets/js/12.e9dd754b.js"><link rel="prefetch" href="/assets/js/13.c61bf48f.js"><link rel="prefetch" href="/assets/js/14.55ca1010.js"><link rel="prefetch" href="/assets/js/15.822833ba.js"><link rel="prefetch" href="/assets/js/16.a6030a4a.js"><link rel="prefetch" href="/assets/js/18.d122e57c.js"><link rel="prefetch" href="/assets/js/19.7c25ac95.js"><link rel="prefetch" href="/assets/js/20.839dc363.js"><link rel="prefetch" href="/assets/js/21.84dcca73.js"><link rel="prefetch" href="/assets/js/22.f53462a8.js"><link rel="prefetch" href="/assets/js/3.fb33d5b1.js"><link rel="prefetch" href="/assets/js/4.9914ac36.js"><link rel="prefetch" href="/assets/js/5.6be672ae.js"><link rel="prefetch" href="/assets/js/6.58b48595.js"><link rel="prefetch" href="/assets/js/7.c05cc930.js"><link rel="prefetch" href="/assets/js/8.e0f96114.js"><link rel="prefetch" href="/assets/js/9.77e27d37.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c9c98798.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="logo.png" alt="Minimal APIs" class="logo"> <span class="site-name can-hide">Minimal APIs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/meet-minimal/" class="nav-link">
  Meet Minimal
</a></div><div class="nav-item"><a href="/quickstart/" class="nav-link router-link-active">
  Quickstart
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="https://github.com/Minimal-APIs/samples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Samples
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://docs.microsoft.com/dotnet/core/tutorials/top-level-templates" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Microsoft Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/meet-minimal/" class="nav-link">
  Meet Minimal
</a></div><div class="nav-item"><a href="/quickstart/" class="nav-link router-link-active">
  Quickstart
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  Guide
</a></div><div class="nav-item"><a href="/tutorial/" class="nav-link">
  Tutorial
</a></div><div class="nav-item"><a href="https://github.com/Minimal-APIs/samples" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Samples
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://docs.microsoft.com/dotnet/core/tutorials/top-level-templates" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Microsoft Docs
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Quickstart</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/quickstart/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/quickstart/quickstart.html" class="sidebar-link">App overview</a></li><li><a href="/quickstart/openapi.html" aria-current="page" class="active sidebar-link">OpenAPI</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/quickstart/openapi.html#enabling-openapi" class="sidebar-link">Enabling OpenAPI</a></li><li class="sidebar-sub-header"><a href="/quickstart/openapi.html#test-with-swagger-ui" class="sidebar-link">Test with Swagger UI</a></li><li class="sidebar-sub-header"><a href="/quickstart/openapi.html#customizing-openapi" class="sidebar-link">Customizing OpenAPI</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="openapi"><a href="#openapi" class="header-anchor">#</a> OpenAPI</h1> <p>Available in either JSON or YAML format, <a href="https://swagger.io/specification/" target="_blank" rel="noopener noreferrer">OpenAPI<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> descriptions enable RESTful APIs to be described in a programming language-agnostic way so that humans and computers can discover the operations those APIs offer without needing to understand how the APIs work internally. In the case of minimal APIs with .NET, OpenAPI descriptions are generated using an open-source package known as <a href="https://www.nuget.org/packages/Swashbuckle.AspNetCore/" target="_blank" rel="noopener noreferrer">Swashbuckle.AspNetCore<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p> <p>As shown in the <a href="/tutorial/first-steps.html#interactive-api-docs">first steps</a> tutorial, one fantastic use-case for enabling a minimal API project with OpenAPI output is for documentation and testing purposes. The Swagger UI test and documentation page give developers a quick-and-easy way to debug their APIs quickly.</p> <h2 id="enabling-openapi"><a href="#enabling-openapi" class="header-anchor">#</a> Enabling OpenAPI</h2> <p>We'll explore two ways you can enable OpenAPI descriptions from your minimal APIs - either when you create your API project, or by adding OpenAPI output to an existing API project.</p> <h3 id="create-a-minimal-api-with-openapi"><a href="#create-a-minimal-api-with-openapi" class="header-anchor">#</a> Create a minimal API with OpenAPI</h3> <p>The easiest way to get started building a minimal API that's enabled with automatic OpenAPI description generation is to execute the <code>dotnet new webapi</code> command to create a new HTTP API project:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet new webapi -o MinimalOpenApi
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>This bootstraps your <code>Program.cs</code> file with all the code required to enable OpenAPI generation, and adds all the project dependencies so you don't have to think about it. The resulting code will include code that enables OpenAPI generation:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddSwaggerGen</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span>
<span class="token punctuation">{</span>
    c<span class="token punctuation">.</span><span class="token function">SwaggerDoc</span><span class="token punctuation">(</span><span class="token string">&quot;v1&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> Title <span class="token operator">=</span> <span class="token string">&quot;OpenMinimalApi&quot;</span><span class="token punctuation">,</span> Version <span class="token operator">=</span> <span class="token string">&quot;v1&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>Whilst developing your API you'll have the Swagger UI test page available for testing each API endpoint.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>Environment<span class="token punctuation">.</span><span class="token function">IsDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">UseSwagger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">UseSwaggerUI</span><span class="token punctuation">(</span>c <span class="token operator">=&gt;</span> c<span class="token punctuation">.</span><span class="token function">SwaggerEndpoint</span><span class="token punctuation">(</span><span class="token string">&quot;/swagger/v1/swagger.json&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;OpenMinimalApi v1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>You may not want your API's test page to be available in production, so the test page generation is wrapped within the <code>IsDevelopment()</code> check. This not only enables you easy debugging capability when you're coding, but makes sure you don't accidentally allow someone to call your API once you deploy your app.</p> <h3 id="add-openapi-to-an-existing-minimal-project"><a href="#add-openapi-to-an-existing-minimal-project" class="header-anchor">#</a> Add OpenAPI to an existing minimal project</h3> <p>If you have an existing minimal API or web project and need to add OpenAPI description generation, first add a reference to the latest version of the <code>Swashbuckle.AspNetCore</code> NuGet package using the command:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet add package swashbuckle.aspnetcore
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Open up the <code>Program.cs</code> file and add this code to it. Note, this is the absolute bare minimum amount of code you'll need to generate OpenAPI descriptions based on the endpoints in your minimal app.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddEndpointsApiExplorer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span>Services<span class="token punctuation">.</span><span class="token function">AddSwaggerGen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>To enable the convenient Swagger UI test page to help you test your API during development, add this code after the call to <code>builder.Build()</code>, which is left in below for reference purposes only.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token keyword">if</span> <span class="token punctuation">(</span>app<span class="token punctuation">.</span>Environment<span class="token punctuation">.</span><span class="token function">IsDevelopment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    app<span class="token punctuation">.</span><span class="token function">UseSwagger</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    app<span class="token punctuation">.</span><span class="token function">UseSwaggerUI</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="test-with-swagger-ui"><a href="#test-with-swagger-ui" class="header-anchor">#</a> Test with Swagger UI</h2> <p>Once you've added this code to either an existing minimal API project or you've opted to create a new one, use the <code>dotnet watch</code> command to start the app, and the app should open up in your browser.</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>dotnet watch run
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>Using the default configuration, the Swagger UI test page is now available at <code>https://localhost:5001/swagger</code>.</p> <p><img src="https://github.com/bradygaster/minimal-apis.github.io/blob/bradyg/openapi-doc/src/.vuepress/public/openapi/swagger-ui.png?raw=true" alt="Swagger UI"></p> <h2 id="customizing-openapi"><a href="#customizing-openapi" class="header-anchor">#</a> Customizing OpenAPI</h2> <p>Numerous extension methods exist to enable customization of the generated OpenAPI description. Endpoints defined via minimal APIs can be annotated with metadata for use in OpenAPI libraries with a series of extension methods.</p> <p>You can set the EndpointName or <code>EndpointGroupName</code> of an endpoint using the <code>WithName</code> and <code>WithGroupName</code> extension methods as follows.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">SomeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Hello World.&quot;</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> SomeMessage<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithName</span><span class="token punctuation">(</span><span class="token string">&quot;WelcomeMessage&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithGroupName</span><span class="token punctuation">(</span><span class="token string">&quot;Greetings&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><blockquote><p>Note: If you have multiple <code>WithName</code> statements on the same endpoint, the last endpoint will be favored.</p></blockquote> <p>On the topic of endpoint names, by default, endpoints that use a method group or named lambda will have their endpoint name set to the method name. For example, in the code snippet below, the endpoint will have a default endpoint name of <code>SomeMessage</code>.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">SomeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Hello World.&quot;</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> SomeMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>This default endpoint name can be overloaded by using the <code>WithName</code> extension method as referenced above.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">SomeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Hello World.&quot;</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> SomeMessage<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">WithName</span><span class="token punctuation">(</span><span class="token string">&quot;MyOwnSpecialName&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>To omit an endpoint from being displayed in API metadata, you can use the ExcludeFromDescription extension method on the endpoint.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token return-type class-name"><span class="token keyword">string</span></span> <span class="token function">SomeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token string">&quot;Hello World.&quot;</span><span class="token punctuation">;</span>
app<span class="token punctuation">.</span><span class="token function">MapGet</span><span class="token punctuation">(</span><span class="token string">&quot;/hello&quot;</span><span class="token punctuation">,</span> SomeMessage<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ExcludeFromDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>Let's say that you did want an endpoint to be annotated. In addition to endpoint names, you can also use the various <code>ProducesX</code> endpoints to indicate the response types of a method. The available extension methods are:</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code><span class="token generic-method"><span class="token function">Produces</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>TResponse<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> contentType <span class="token operator">=</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span> 
    <span class="token keyword">params</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> additionalContentTypes<span class="token punctuation">)</span>

<span class="token function">Produces</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> statusCode <span class="token operator">=</span> <span class="token number">200</span><span class="token punctuation">,</span> 
    <span class="token class-name">System<span class="token punctuation">.</span>Type<span class="token punctuation">?</span></span> responseType <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> contentType <span class="token operator">=</span> <span class="token string">&quot;application/json&quot;</span><span class="token punctuation">,</span> 
    <span class="token keyword">params</span> <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span></span> additionalContentTypes<span class="token punctuation">)</span>

<span class="token function">ProducesProblem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> statusCode<span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> contentType <span class="token operator">=</span> <span class="token string">&quot;application/problem+json&quot;</span><span class="token punctuation">)</span>

<span class="token function">ProducesValidationProblem</span><span class="token punctuation">(</span><span class="token class-name"><span class="token keyword">int</span></span> statusCode <span class="token operator">=</span> <span class="token number">400</span><span class="token punctuation">,</span> 
    <span class="token class-name"><span class="token keyword">string</span><span class="token punctuation">?</span></span> contentType <span class="token operator">=</span> <span class="token string">&quot;application/validationproblem+json&quot;</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>In general, the <code>Produces</code> extension methods give you the flexibility to set a <code>ProblemDetails</code> response type for your endpoint or define what response it returns on happy-path scenarios. You can do this with the generic-typed implementation <code>Produces&lt;TResponse&gt;</code> or with the <code>Produces</code> attribute. So, for example, to define the response metadata for a POST method that returns a <code>Todo</code> or a <code>ProblemDetails</code> response you can annotate it using the following extension methods.</p> <div class="language-csharp line-numbers-mode"><pre class="language-csharp"><code>app<span class="token punctuation">.</span><span class="token function">MapPost</span><span class="token punctuation">(</span><span class="token string">&quot;/todos&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token class-name">Todo</span> todo<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span> <span class="token range operator">..</span><span class="token punctuation">.</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token function">ProducesProblem</span><span class="token punctuation">(</span><span class="token number">401</span><span class="token punctuation">)</span>
   <span class="token punctuation">.</span><span class="token generic-method"><span class="token function">Produces</span><span class="token generic class-name"><span class="token punctuation">&lt;</span>Todo<span class="token punctuation">&gt;</span></span></span><span class="token punctuation">(</span><span class="token number">201</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/quickstart/quickstart.html" class="prev">
        App overview
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c8f2c11d.js" defer></script><script src="/assets/js/2.9f025ea5.js" defer></script><script src="/assets/js/17.20918acb.js" defer></script>
  </body>
</html>
